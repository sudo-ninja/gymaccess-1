<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>holidays-lists</ion-title>
    <ion-button slot="end" shape="round" fill="clear" (click)="addHolidaylistAlert()">
      <ion-icon name="add-outline"></ion-icon>
    </ion-button>
  </ion-toolbar>
  
</ion-header>

<ion-content [fullscreen]="true">

  <ion-list *ngFor="let list of fullholiday_list">
    <ion-item>
      <ion-label>{{list.holidaylistname}}</ion-label>
      <ion-button id="open-modal">Open Modal</ion-button>
      <ion-button (click)="addHoliday($event , list._id)"><ion-icon name="add"></ion-icon></ion-button>   
    </ion-item>
    <ion-item>
      <ion-list *ngFor="let holiday of holidays_db">
        <ion-item detail="true">
          <ion-avatar slot="start">
            <img alt="Silhouette of a person's head" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
          </ion-avatar>
          <ion-label>
            <h3>{{holiday.name}}</h3>
            <p> 2023/10/02 ~ 2023/10/02</p>
          </ion-label> 
        </ion-item>    
      </ion-list>
    </ion-item>
      
       </ion-list>
  

   
  <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">Cancel</ion-button>
          </ion-buttons>
          <ion-title>Holiday Detail</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="confirm()" [strong]="true">Confirm</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        
        <!-- form input  -->
        <form [formGroup]="holidayForm" (ngSubmit)="confirm()">

          <ion-item>
            <ion-input label="Holiday Name" labelPlacement="stacked" type="text" placeholder="Holiday Name" [(ngModel)]="name"></ion-input>
          </ion-item>
    
          <ion-item>
            <ion-label position = "fixed"> Start Date   </ion-label> 
            <ion-datetime-button slot="end" datetime ="sdate" formControlName="h_startdate" ngDefaultControl></ion-datetime-button>
          </ion-item>
    
          <ion-modal [keepContentsMounted]="true">
            <ng-template>
              <ion-datetime
              [min]="join_date"
              [value]="startDateValue"
              [showDefaultButtons]="true"
              presentation="date" 
              id="sdate"
              #sdate           
              (ionChange)="StartDateChange($event)">
              <span slot="title">Select a Start Date</span>
            </ion-datetime>
            </ng-template>
          </ion-modal>
    
          <ion-item>
            <ion-label position = "fixed"> End Date   </ion-label>
            <ion-datetime-button slot="end" datetime ="edate" formControlName="h_enddate" ngDefaultControl></ion-datetime-button>
          </ion-item>
    
          <ion-modal [keepContentsMounted]="true">
            <ng-template>
              <ion-datetime                        
              [showDefaultButtons]="true"              
              [value]="endDateValue"
              [min]="startDateValue" 
              presentation="date" 
              id="edate" 
              #edate
              (ionChange)="EndDateChange($event)">
              <span slot="title">Select a End Date</span>
            </ion-datetime>
            <ion-buttons slot="buttons">
            </ion-buttons>
            </ng-template>
          </ion-modal>
   
        </form> 
      

      </ion-content>
    </ng-template>
  </ion-modal>
  
</ion-content>
